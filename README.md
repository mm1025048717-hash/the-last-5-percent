# The Last 5% - æ ç²¾é€‰å“åŠ©æ‰‹ âš ï¸

> **ä¸“æ³¨äºå‘Šè¯‰ä½ ã€Œä¸ºä»€ä¹ˆä¸è¯¥ä¹°ã€çš„ AI é€‰å“å·¥å…·**

![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.109-green.svg)
![LangChain](https://img.shields.io/badge/LangChain-0.3+-orange.svg)
![DeepSeek](https://img.shields.io/badge/DeepSeek-V3-purple.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

<p align="center">
  <img src="https://img.shields.io/badge/âš ï¸-æ ç²¾é€‰å“åŠ©æ‰‹-red?style=for-the-badge" alt="The Last 5%">
</p>

## ğŸ¯ é¡¹ç›®å®šä½

åœ¨ AI + ç”µå•†é¢†åŸŸï¼Œæ‰€æœ‰çš„é€‰å“å·¥å…·éƒ½åœ¨åŠªåŠ›å‘Šè¯‰ä½ ã€Œä¸ºä»€ä¹ˆè¦ä¹°ã€ã€‚

**The Last 5%** çš„å”¯ä¸€ä½¿å‘½æ˜¯å‘Šè¯‰ä½ ã€Œ**ä¸ºä»€ä¹ˆä¸è¯¥ä¹°**ã€ã€‚

### ä¸ºä»€ä¹ˆè¿™ä¸ªç‚¹æ²¡äººåšï¼Ÿ

- **å¤§å‚ä¸æ•¢åš**ï¼šé˜¿é‡Œã€äº¬ä¸œã€äºšé©¬é€Šçš„åº•å±‚é€»è¾‘æ˜¯ä¿ƒæˆäº¤æ˜“ï¼Œä»–ä»¬ä¸å¯èƒ½å¼€å‘ä¸€ä¸ªæ·±åº¦"åŠé€€"å·¥å…·
- **ä¿¡æ¯ä¸å¯¹ç§°**ï¼šæ™®é€šç”¨æˆ·çœ‹å¥½è¯„çœ‹çš„æ˜¯è¥é”€ï¼Œçœ‹å·®è¯„çœ‹åˆ°çš„æ˜¯æƒ…ç»ªï¼Œå¾ˆéš¾çœ‹åˆ°ã€Œç”±äºäº§å“è®¾è®¡ç¼ºé™·å¯¼è‡´çš„å¿…ç„¶å¤±è´¥ã€

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”— LangChain æ™ºèƒ½ Agent é“¾è·¯

ä½¿ç”¨ **LangChain** æ„å»ºçš„æ™ºèƒ½åˆ†æç³»ç»Ÿï¼ŒåŒ…å« 4 ä¸ªä¸“ä¸šå·¥å…·ï¼š

| å·¥å…· | åŠŸèƒ½ | è¯´æ˜ |
|-----|------|------|
| ğŸ” `review_search` | è¯„è®ºæœç´¢ | ä»ä»€ä¹ˆå€¼å¾—ä¹°ã€çŸ¥ä¹ã€äº¬ä¸œç­‰å¹³å°è·å–çœŸå®ç”¨æˆ·è¯„ä»· |
| ğŸ“Š `product_spec_analysis` | å‚æ•°åˆ†æ | åˆ†æäº§å“æŠ€æœ¯å‚æ•°ï¼Œå‘ç°è™šæ ‡ã€è®¾è®¡ç¼ºé™·ç­‰é—®é¢˜ |
| ğŸ“ `history_search` | å†å²æœç´¢ | æœç´¢äº§å“å¬å›ã€å·²çŸ¥ç¼ºé™·ã€æ¢å£³é‡ç”Ÿç­‰é»‘å†å² |
| âš¡ `scenario_analysis` | åœºæ™¯åˆ†æ | åŸºäºç”¨æˆ·ä½¿ç”¨åœºæ™¯é¢„æµ‹äº§å“å¯èƒ½é‡åˆ°çš„é—®é¢˜ |

### ğŸ”¬ å·®è¯„è„±æ°´æœº (De-noise)

è‡ªåŠ¨è¿‡æ»¤ã€Œç‰©æµæ…¢ã€ã€Œå®¢æœæ€åº¦å·®ã€ç­‰åƒåœ¾ä¿¡æ¯ï¼Œåªæå–å…³äºäº§å“æœ¬èº«çš„ï¼š
- ç¡¬ä»¶æ•…éšœ
- è½¯ä»¶ Bug
- è®¾è®¡ç¼ºé™·
- è€ä¹…æ€§é—®é¢˜
- æ€§èƒ½ä¸è¶³
- å®‰å…¨éšæ‚£

### âš¡ ä½¿ç”¨åœºæ™¯ã€Œæ’å¢™ã€é¢„æµ‹

è¾“å…¥ä½ çš„ä½¿ç”¨åœºæ™¯ï¼ŒAI ä¼šåŸºäºäº§å“å‚æ•°ç»™å‡ºè­¦å‘Šï¼š

> "åŸºäºç‰©ç†å‚æ•°ï¼Œè¿™æ¬¾ 2000 æµæ˜æŠ•å½±ä»ªåœ¨ä½ çš„å…¨å¤©é‡‡å…‰å®¢å…é‡Œï¼Œå¯¹æ¯”åº¦ä¼šä¸‹é™ 80%ï¼Œå»ºè®®æ”¾å¼ƒã€‚"

### ğŸ“ å…¨ç½‘é»‘å†å²è¿½æº¯

æ·±æŒ–äº§å“/å“ç‰Œçš„å†å²é—®é¢˜ï¼š
- å®˜æ–¹å¬å›äº‹ä»¶
- é›†ä½“æŠ•è¯‰ç¼ºé™·
- æ¢å£³é‡ç”Ÿï¼ˆæŸç¼ºé™·äº§å“çš„æ”¹æ¬¾ï¼‰
- å“ç‰Œé»‘å†å²

## ğŸ¨ UI è®¾è®¡

- **ChatGPT é£æ ¼ç•Œé¢**ï¼šå¯¹è¯å¼äº¤äº’ï¼Œç®€æ´æ¸…çˆ½
- **çº¢ç™½é…è‰²ä¸»é¢˜**ï¼šé†’ç›®çš„è­¦å‘Šé£æ ¼
- **é¿å‘æŒ‡æ•°è¿›åº¦æ¡**ï¼šä»ã€Œå¯ä»¥ä¸€è¯•ã€åˆ°ã€Œå¿«è·‘ï¼ã€
- **åæ§½çƒ­åŠ›å›¾**ï¼šç›´è§‚æ˜¾ç¤ºç”¨æˆ·æœ€ä¸æ»¡æ„çš„æ¨¡å—
- **æ›¿ä»£æ–¹æ¡ˆå»ºè®®**ï¼šåŠé€€åç»™ä½ æŒ‡æ¡æ˜è·¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/mm1025048717-hash/the-last-5-percent.git
cd the-last-5-percent
```

### 2. å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 3. é…ç½® API Keyï¼ˆæ¨èï¼‰

åˆ›å»º `.env` æ–‡ä»¶ï¼Œé…ç½® DeepSeek æˆ– OpenAI API Keyï¼š

```env
# æ¨èä½¿ç”¨ DeepSeekï¼ˆæ€§ä»·æ¯”é«˜ï¼‰
LLM_PROVIDER=deepseek
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# æˆ–ä½¿ç”¨ OpenAI
# LLM_PROVIDER=openai
# OPENAI_API_KEY=your_openai_api_key_here
```

> **æ³¨æ„**ï¼šä¸é…ç½® API Key ä¹Ÿèƒ½è¿è¡Œï¼Œä¼šä½¿ç”¨å†…ç½®çš„æ¼”ç¤ºæ•°æ®ã€‚

### 4. å¯åŠ¨æœåŠ¡

```bash
python run.py
```

è®¿é—® http://localhost:8000 å¼€å§‹ä½¿ç”¨ï¼

## ğŸ“¡ API æ–‡æ¡£

### æ ¸å¿ƒç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/analyze` | POST | äº§å“é¿å‘åˆ†æï¼ˆä¸»æ¥å£ï¼‰ |
| `/api/chat` | POST | å¯¹è¯å¼äº¤äº’ |
| `/api/tools` | GET | åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…· |
| `/api/health` | GET | å¥åº·æ£€æŸ¥ |

### åˆ†æè¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST http://localhost:8000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "product_name": "æ‰«åœ°æœºå™¨äºº",
    "user_scenario": "å®¶é‡Œæœ‰ä¸¤åªçŒ«ï¼Œ120å¹³ä¸‰å®¤ä¸€å…"
  }'
```

### å“åº”ç»“æ„

```json
{
  "product_name": "æ‰«åœ°æœºå™¨äºº",
  "risk_level": "warning",
  "risk_score": 62,
  "summary": "ã€Œæ‰«åœ°æœºå™¨äººã€æœ‰æ˜æ˜¾çŸ­æ¿ï¼Œå»ºè®®å¯¹æ¯”åŒç±»ç«å“åå†å†³å®šã€‚æœ€å¤§æ§½ç‚¹ï¼šè¾¹åˆ·å®¹æ˜“ç¼ ç»•å¤´å‘",
  "defects": [...],
  "scenario_warnings": [...],
  "history_events": [...],
  "heatmap_data": [...],
  "alternatives": [...]
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
the-last-5-percent/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ agents/                # åŸºç¡€ Agentï¼ˆå‘åå…¼å®¹ï¼‰
â”‚   â”‚   â”œâ”€â”€ base_agent.py
â”‚   â”‚   â”œâ”€â”€ denoise_agent.py   # å·®è¯„è„±æ°´æœº
â”‚   â”‚   â”œâ”€â”€ scenario_agent.py  # åœºæ™¯æ’å¢™é¢„æµ‹
â”‚   â”‚   â””â”€â”€ history_agent.py   # é»‘å†å²è¿½æº¯
â”‚   â”œâ”€â”€ langchain_tools.py     # LangChain å·¥å…·é›†
â”‚   â”œâ”€â”€ langchain_agent.py     # LangChain æ™ºèƒ½ Agent
â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models.py              # Pydantic æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ main.py                # FastAPI ä¸»åº”ç”¨
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html             # ChatGPT é£æ ¼ç•Œé¢
â”‚   â”œâ”€â”€ styles.css             # çº¢ç™½é…è‰²ä¸»é¢˜
â”‚   â””â”€â”€ app.js                 # å‰ç«¯äº¤äº’é€»è¾‘
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–
â”œâ”€â”€ run.py                     # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| **åç«¯æ¡†æ¶** | FastAPI |
| **AI æ¡†æ¶** | LangChain |
| **LLM** | DeepSeek-V3 / GPT-4o |
| **å‰ç«¯** | åŸç”Ÿ HTML/CSS/JS |
| **æ•°æ®éªŒè¯** | Pydantic |

## ğŸ’¡ å·®å¼‚åŒ–ä¼˜åŠ¿

| ç‰¹æ€§ | æ·˜å®é—®é—®/äº¬ä¸œäº¬è¨€ | Perplexity | The Last 5% |
|-----|-----------------|------------|-------------|
| ç«‹åœº | å–è´§å¯¼å‘ | ä¸­ç«‹èšåˆ | **åŠé€€å¯¼å‘** |
| å·®è¯„åˆ†æ | âŒ ä¸æ•¢åš | âš ï¸ æµ…å±‚ | âœ… æ·±åº¦è„±æ°´ |
| åœºæ™¯é¢„æµ‹ | âŒ æ—  | âŒ æ—  | âœ… æ’å¢™è­¦å‘Š |
| é»‘å†å² | âŒ ä¸å¯èƒ½ | âš ï¸ æœ‰é™ | âœ… æ·±åº¦è¿½æº¯ |
| å¹¿å‘Š | ğŸ’° æ»¡å± | ğŸ”¸ å°‘é‡ | âœ… **é›¶å¹¿å‘Š** |

## ğŸ¯ æ¨èä½¿ç”¨åœºæ™¯

1. **é«˜å®¢å•ä»·äº§å“å†³ç­–**ï¼šæ‰«åœ°æœºå™¨äººã€æŠ•å½±ä»ªã€äººä½“å·¥å­¦æ¤…ã€æŠ˜å å±æ‰‹æœº
2. **é¿å…å†²åŠ¨æ¶ˆè´¹**ï¼šåœ¨ä¸‹å•å‰è®© AI æ³¼ä¸€ç›†å†·æ°´
3. **å¯¹æ¯”ç«å“**ï¼šäº†è§£å„äº§å“çš„ã€Œç¡¬ä¼¤ã€åœ¨å“ªé‡Œ

## ğŸ›£ï¸ Roadmap

- [x] LangChain Agent é“¾è·¯
- [x] ChatGPT é£æ ¼ UI
- [x] DeepSeek API é›†æˆ
- [ ] æ¥å…¥ Firecrawl å®æ—¶æŠ“å–è¯„è®º
- [ ] æ”¯æŒç²˜è´´å•†å“é“¾æ¥ç›´æ¥åˆ†æ
- [ ] æ›´å¤šå‚ç›´ç±»ç›®ï¼ˆæŠ¤è‚¤å“ã€å® ç‰©ç”¨å“ï¼‰
- [ ] æµè§ˆå™¨æ’ä»¶ç‰ˆæœ¬
- [ ] ä»˜è´¹æ·±åº¦æŠ¥å‘ŠåŠŸèƒ½

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ License

MIT License

---

<p align="center">
  <strong>The Last 5%</strong> - å› ä¸ºæœ€å 5% çš„ç»†èŠ‚ï¼Œå†³å®šäº†ä½ ä¼šä¸ä¼šåæ‚”ã€‚
</p>
